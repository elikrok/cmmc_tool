!
hostname CoreSwitch01
!
management ssh
!
enable secret 5 $1$ABCD$hashedpasswordhere123
!
username admin privilege 15 secret adminpass123
username netops privilege 5 secret netopspass
username readonly privilege 1 secret readpass
!
aaa authentication login default group tacacs+ local
aaa group server tacacs+ TACACS-SERVERS
 server 10.1.100.10
 server 10.1.100.11
!
tacacs-server host 10.1.100.10 key supersecretkey
tacacs-server host 10.1.100.11 key supersecretkey
!
ip access-list standard MGMT-HOSTS
 10 permit 10.1.100.0 0.0.0.255
 20 deny any
!
ip access-list extended DMZ-IN
 10 permit tcp any host 10.1.50.10 eq 80
 20 permit tcp any host 10.1.50.10 eq 443
 30 permit tcp any host 10.1.50.20 eq 25
 40 deny ip any any
!
vlan 100
 name Management
!
vlan 200
 name Users
!
vlan 300
 name Servers
!
vlan 500
 name DMZ
!
interface Management1
 description Management Interface
 ip address 10.1.100.5/24
 ip access-group MGMT-HOSTS in
!
interface Vlan100
 description Management VLAN
 ip address 10.1.100.1/24
!
interface Vlan200
 description User VLAN
 ip address 10.1.200.1/24
!
interface Vlan300
 description Server VLAN
 ip address 10.1.30.1/24
!
interface Vlan500
 description DMZ VLAN
 ip address 10.1.50.1/24
 ip access-group DMZ-IN in
!
interface Ethernet1
 description Uplink to Edge Router
 switchport mode trunk
 switchport trunk allowed vlan 100,200,300,500
!
interface Ethernet2
 description User Access Port
 switchport mode access
 switchport access vlan 200
!
interface Ethernet3
 description Server Access Port
 switchport mode access
 switchport access vlan 300
!
interface Ethernet4
 description DMZ Access Port
 switchport mode access
 switchport access vlan 500
!
line vty 0 4
 login local
 transport input ssh
!
end